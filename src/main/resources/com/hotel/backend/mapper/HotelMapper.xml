<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hotel.backend.mapper.HotelMapper">
	<resultMap id="BaseResultMap" type="com.hotel.backend.entity.Hotel">
		<id column="HOTEL_ID" jdbcType="CHAR" property="id" />
		<result column="HOTEL_NAME" jdbcType="VARCHAR" property="name" />
		<result column="HOTEL_ADDRESS" jdbcType="VARCHAR" property="address" />
		<result column="HOTEL_LOGO" jdbcType="VARCHAR" property="logo" />
		<result column="HOTEL_PHONE" jdbcType="CHAR" property="phone" />
		<result column="HOTEL_DESC" jdbcType="VARCHAR" property="description" />
		<result column="HOTEL_STATUS" jdbcType="CHAR" property="status" />
		
	</resultMap>


	<sql id="Base_Column_List">
		HOTEL_ID,HOTEL_NAME,HOTEL_ADDRESS,HOTEL_LOGO,HOTEL_PHONE,HOTEL_DESC,HOTEL_STATUS
	</sql>

	<select id="getHotelList" resultMap="BaseResultMap">
		SELECT
		<include refid="Base_Column_List" />
		FROM BHOTEL
	</select>
	<select id="getHotelTotalCount" resultType="java.lang.Integer">
		SELECT COUNT(*) FROM
		BHOTEL
	</select>

	<select id="getHotelById" parameterType="java.lang.String"
		resultMap="BaseResultMap">
		SELECT
		<include refid="Base_Column_List" />
		FROM BHOTEL
		WHERE HOTEL_ID=#{id}
	</select>
	<delete id="deleteHotelById" parameterType="java.lang.String">
		DELETE FROM BHOTEL
		WHERE HOTEL_ID=#{id}
	</delete>

	<insert id="createHotel" parameterType="com.hotel.backend.entity.Hotel">
		INSERT INTO
		BHOTEL
		(HOTEL_ID,HOTEL_NAME,HOTEL_ADDRESS,HOTEL_LOGO,HOTEL_PHONE,HOTEL_DESC,HOTEL_STATUS)
		VALUES
		(#{id},#{name},#{address},#{logo},#{phone},#{description},#{status})
	</insert>

	<update id="updateHotelInfo" parameterType="com.hotel.backend.entity.Hotel">
		update BHOTEL
		set
		HOTEL_NAME = #{name},
		HOTEL_ADDRESS = #{address},
		HOTEL_LOGO = #{logo},
		HOTEL_PHONE = #{phone},
		HOTEL_DESC =
		#{description},
		HOTEL_STATUS = #{status}
		where
		HOTEL_ID=#{id}
	</update>
	
	<update id="uploadLogo" parameterType="map">
		update BHOTEL
		set
		HOTEL_LOGO = #{logo}
		where
		HOTEL_ID=#{id}
	</update>
	
	<update id="validateHotel" parameterType="map">
		update BHOTEL
		set
		HOTEL_STATUS = #{status}
		where
		HOTEL_ID=#{id}
	</update>
	


</mapper>